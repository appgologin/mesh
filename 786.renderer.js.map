{"version":3,"file":"786.renderer.js","mappings":"0sBAEaA,EAAcC,EAAAA,EAAAA,IAAUC,IAAAA,EAAAC,IAAA,yHAOxBC,EAAiBH,EAAAA,EAAAA,IAAUI,IAAAA,EAAAF,IAAA,iKAW3BG,EAAmBL,EAAAA,EAAAA,KAAWM,IAAAA,EAAAJ,IAAA,+E,sBCPrCK,IADeC,OAAOC,SACMD,OAAOC,QAAQ,YAAYF,YAIhDG,EAAoB,WAC/B,IAAOC,EAAeC,IAAoBC,EAAAA,EAAAA,UAAiB,YACnDC,IAAmBC,EAAAA,EAAAA,OAE3BC,EAAAA,EAAAA,YAAU,WACRT,GAAeU,GACjB,GAAG,IAEH,IAAMA,EAAsB,WAC1BV,EAAYW,OAAO,6BAChBC,MAAK,SAACC,GACL,IAAIC,EAAe,GACbC,EAA0BF,EAfZ,SAgBpBC,EAAeC,EAAgBC,QAAQ,GAAK,MACxCD,GAhBK,QAkBPD,GADgCC,EAjBzB,MAkBwBC,QAAQ,GAAK,OAG9CX,EAAiBS,EACnB,GACJ,EAMA,OACEG,EAAAA,cAACC,EAAAA,EAAU,CAACC,OAAO,SACjBF,EAAAA,cAACG,EAAAA,GAAS,KACPC,EAAY,2BAEfJ,EAAAA,cAACzB,EAAW,KACVyB,EAAAA,cAACnB,EAAgB,KACduB,EAAY,0BAEfJ,EAAAA,cAACrB,EAAc,KACZQ,GAEHa,EAAAA,cAACrB,EAAc,KACbqB,EAAAA,cAAAK,EAAAA,EAAA,CACEC,UAAU,SACVC,MAAOH,EAAY,8BACnBI,UApBW,WACnBzB,GAAeA,EAAYW,OAAO,wBAAwBC,MAAK,kBAAMF,GAAqB,GAC5F,EAmBUgB,OAAQL,EAAY,YACpBM,WAAYN,EAAY,YAExBJ,EAAAA,cAAAW,EAAAA,QAAA,CACEC,MAAO,CAAEC,UAAW,GAAIC,WAAY,MACpCC,KAAK,WAEJX,EAAY,8BAO3B,EAEA,SAAeY,EAAAA,EAAAA,MAAK9B,E","sources":["webpack://GoLogin/./src/app/features/personalArea/cache/styles.tsx","webpack://GoLogin/./src/app/features/personalArea/cache/index.tsx"],"sourcesContent":["import styled from '@emotion/styled';\r\n\r\nexport const ContentArea = styled.div`\r\n  margin-top: 20px;\r\n  color: var(--767676-personal-area-cache);\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport const ContentAreaRow = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n\r\n  button {\r\n    margin: 12px 12px 12px 0;\r\n  }\r\n`;\r\n\r\nexport const ContentAreaTitle = styled.span`\r\n  color: var(--292929-personal-area-cache);\r\n  margin-bottom: 13px;\r\n`;\r\n","import { Button, Popconfirm } from 'antd';\r\nimport React, { FC, memo, useEffect, useState } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport {\r\n  ContentArea,\r\n  ContentAreaRow,\r\n  ContentAreaTitle,\r\n} from './styles';\r\nimport { TabWrapper } from '../menu/tab-wrapper';\r\nimport { PageTitle } from '../styles';\r\n\r\nconst isElectron = !!window.require;\r\nconst ipcRenderer = isElectron && window.require('electron').ipcRenderer;\r\nconst BYTES_IN_MB: number = 1024 * 1024;\r\nconst MB_IN_GB = 1024;\r\n\r\nexport const CacheSettings: FC = () => {\r\n  const [storageOnDisk, setStorageOnDisk] = useState<string>('0.00 MB');\r\n  const { t: translation } = useTranslation();\r\n\r\n  useEffect(() => {\r\n    ipcRenderer && getLocalStorageSize();\r\n  }, []);\r\n\r\n  const getLocalStorageSize = (): void => {\r\n    ipcRenderer.invoke('check-cached-storage-size')\r\n      .then((storageSize: number) => {\r\n        let resultString = '';\r\n        const storageSizeInMB: number = storageSize / BYTES_IN_MB;\r\n        resultString = storageSizeInMB.toFixed(2) + ' MB';\r\n        if (storageSizeInMB >= MB_IN_GB) {\r\n          const storageSizeInGb: number = storageSizeInMB / MB_IN_GB;\r\n          resultString = storageSizeInGb.toFixed(2) + ' GB';\r\n        }\r\n\r\n        setStorageOnDisk(resultString);\r\n      });\r\n  };\r\n\r\n  const clearStorage = (): void => {\r\n    ipcRenderer && ipcRenderer.invoke('clear-cached-storage').then(() => getLocalStorageSize());\r\n  };\r\n\r\n  return (\r\n    <TabWrapper tabKey='cache'>\r\n      <PageTitle>\r\n        {translation('cacheSettings.subtitle')}\r\n      </PageTitle>\r\n      <ContentArea>\r\n        <ContentAreaTitle>\r\n          {translation('cacheSettings.storage')}\r\n        </ContentAreaTitle>\r\n        <ContentAreaRow>\r\n          {storageOnDisk}\r\n        </ContentAreaRow>\r\n        <ContentAreaRow>\r\n          <Popconfirm\r\n            placement='bottom'\r\n            title={translation('cacheSettings.confirmTitle')}\r\n            onConfirm={clearStorage}\r\n            okText={translation('base.yes')}\r\n            cancelText={translation('base.no')}\r\n          >\r\n            <Button\r\n              style={{ marginTop: 17, marginLeft: '%4' }}\r\n              type='primary'\r\n            >\r\n              {translation('cacheSettings.clearBtn')}\r\n            </Button>\r\n          </Popconfirm>\r\n        </ContentAreaRow>\r\n      </ContentArea>\r\n    </TabWrapper>\r\n  );\r\n};\r\n\r\nexport default memo(CacheSettings);\r\n"],"names":["ContentArea","styled","_templateObject","_taggedTemplateLiteral","ContentAreaRow","_templateObject2","ContentAreaTitle","_templateObject3","ipcRenderer","window","require","CacheSettings","storageOnDisk","setStorageOnDisk","useState","t","useTranslation","useEffect","getLocalStorageSize","invoke","then","storageSize","resultString","storageSizeInMB","toFixed","React","TabWrapper","tabKey","PageTitle","translation","_Popconfirm","placement","title","onConfirm","okText","cancelText","_Button","style","marginTop","marginLeft","type","memo"],"sourceRoot":""}