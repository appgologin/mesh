!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="d60fb9c6-a886-40aa-9f71-77eed1ff7fbf",e._sentryDebugIdIdentifier="sentry-dbid-d60fb9c6-a886-40aa-9f71-77eed1ff7fbf")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"3.3.44"},(global.webpackChunkGoLogin=global.webpackChunkGoLogin||[]).push([[197],{55197:(e,t,n)=>{n.r(t),n.d(t,{default:()=>we});var r=n(65400),o=n(17156),l=n.n(o),a=n(67294),i=n(91072),c=n(7494),u=n(67648),s=n(56697),f=n(51024),d=n(86245),m=n(11187),p=n(59400),v=n.n(p),y=n(71604),E=n(74855),w=n.n(E),b=n(88149),C=n(17768),g=function(){var e=l()((function*(){return(yield(0,C.dJ)("".concat(b.CT,"/2fa/status"),{method:"GET"})).body}));return function(){return e.apply(this,arguments)}}(),h=function(){var e=l()((function*(){return(yield(0,C.dJ)("".concat(b.CT,"/2fa/generate"),{method:"POST"})).body}));return function(){return e.apply(this,arguments)}}(),x=n(84059),F=function(e){return a.createElement(x.Qd,{value:e.value,level:"L"})};const S=(0,a.memo)(F);var A,Z,k,O,T=n(39880),P=y.Z.span(A||(A=v()(["\n  color: var(--676767);\n"]))),M=y.Z.div(Z||(Z=v()(["\n  color: var(--6269AF);\n  text-align: center;\n  margin-bottom: 16px;\n  cursor: pointer;\n  user-select: none;\n"]))),U=y.Z.div(k||(k=v()(["\n  cursor: pointer;\n  background-color: var(--EBEBEB);\n  color: var(--999999);\n  width: 25px;\n  height: 25px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n"]))),_=y.Z.div(O||(O=v()(["\n  margin: 16px auto;\n  width: fit-content;\n"]))),G=function(e){var[t,n]=(0,a.useState)("qr"),[r,o]=(0,a.useState)(""),[c,u]=(0,a.useState)(!0),[p,v]=(0,a.useState)(""),[y,E]=(0,a.useState)(!1),{t:g}=(0,i.$G)(),x=function(){var t=l()((function*(){if(!y)if(6===p.length)try{E(!0);var{body:t}=yield function(e){var t=JSON.stringify({code:e});return(0,C.dJ)("".concat(b.CT,"/2fa/turn-on"),{method:"POST",body:t})}(p),{twoFaToken:n,token:r}=t;localStorage.setItem(b.B7,n),(0,T.Fr)(r,"verifyCode"),v(""),e.onClose(!0)}finally{E(!1)}else m.Z.error(g("notifications.error.invalidCode"))}));return function(){return t.apply(this,arguments)}}(),F=function(){var e=l()((function*(){try{var e=yield h();o(e.otpAuthUrl),u(!1)}catch(e){u(!0)}}));return function(){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){F()}),[]);var A={qr:a.createElement(a.Fragment,null,a.createElement(_,null,a.createElement(S,{value:r})),a.createElement(M,{onClick:function(){return n("manual")}},g("twoFA.enterCodeManually"))),manual:a.createElement(a.Fragment,null,a.createElement(f.Z,{type:"one-time-code",style:{margin:"16px 0"},readOnly:!0,value:r?new URL(r).searchParams.get("secret"):"",addonAfter:a.createElement(w(),{text:r?new URL(r||"").searchParams.get("secret"):"",onCopy:function(){return m.Z.success(g("base.copiedText"))}},a.createElement(U,null,a.createElement(d.default,{type:"copy"})))}),a.createElement(M,{onClick:function(){return n("qr")}},g("twoFA.scanQR")))};return a.createElement(s.Z,{destroyOnClose:!0,title:g("twoFA.setup"),visible:e.visible,onCancel:function(){v(""),e.onClose(!1)},footer:null},a.createElement(P,null,g("twoFA.subtitle")),c?a.createElement("div",{style:{margin:"0 auto",width:"fit-content"}},a.createElement(d.default,{type:"loading",style:{fontSize:32}})):a.createElement(a.Fragment,null,A[t],a.createElement(f.Z,{value:p,onChange:function(e){var{value:t=""}=e.target;y||(t?/^[0-9]{0,6}$/g.test(t)&&v(t):v(t))},placeholder:g("twoFA.enter6DigitCode"),onPressEnter:x,addonAfter:a.createElement(U,{onClick:x},y?a.createElement(d.default,{type:"loading"}):a.createElement(d.default,{type:"right"}))})))};const L=(0,a.memo)(G);var $,J,B=y.Z.span($||($=v()(["\n  color: var(--676767);\n"]))),I=y.Z.div(J||(J=v()(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  margin-top: 24px;\n"]))),j=function(e){var{t}=(0,i.$G)();return a.createElement(s.Z,{destroyOnClose:!0,title:t("twoFA.isOn"),visible:e.visible,onCancel:e.onClose,footer:null},a.createElement(B,null,t("twoFA.askCode")),a.createElement(I,null,a.createElement(r.default,{type:"primary",onClick:e.onClose},t("base.confirm"))))};const D=(0,a.memo)(j);var N,R,q=function(){var e=l()((function*(e){var t=JSON.stringify({code:e});try{return(0,C.dJ)("".concat(b.CT,"/2fa/turn-off"),{method:"POST",body:t})}catch(e){throw e}}));return function(t){return e.apply(this,arguments)}}(),V=y.Z.div(N||(N=v()(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n"]))),K=y.Z.div(R||(R=v()(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  gap: 8px;\n"]))),Q=function(e){var[t,n]=(0,a.useState)(""),[o,c]=(0,a.useState)(!1),{t:u}=(0,i.$G)(),d=function(){var n=l()((function*(){if(!o)try{if(c(!0),!t)return void m.Z.error(u("twoFAUninstallModal.errorNoCode"));if(6!==t.length&&m.Z.error(u("twoFAUninstallModal.invalidCode")),!/^[0-9]{6}$/g.test(t))return void m.Z.error(u("twoFAUninstallModal.wrongCode"));yield q(t),c(!1),e.onClose(!0)}finally{c(!1)}}));return function(){return n.apply(this,arguments)}}();return a.createElement(s.Z,{onCancel:function(){return e.onClose(!1)},footer:!1,visible:e.visible,closable:!o,title:u("twoFAUninstallModal.title")},a.createElement(V,null,a.createElement("span",null,u("twoFAUninstallModal.subtitle")),a.createElement(K,null,a.createElement(f.Z,{placeholder:u("twoFAUninstallModal.codeInputPlaceholder"),autoComplete:"off",value:t,onChange:function(e){return n(e.target.value)},maxLength:6,onPressEnter:d,autoFocus:!0}),a.createElement(r.default,{type:"primary",onClick:d,loading:o},u("base.confirm")))))};const z=(0,a.memo)(Q);var Y,H,W=y.Z.span(Y||(Y=v()(["\n  color: var(--676767);\n"]))),X=y.Z.div(H||(H=v()(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  margin-top: 24px;\n"]))),ee=function(e){var{t}=(0,i.$G)();return a.createElement(s.Z,{destroyOnClose:!0,title:t("twoFA.disable.title"),visible:e.visible,onCancel:e.onClose,footer:null},a.createElement(W,null,t("twoFA.disable.subtitle")),a.createElement(X,null,a.createElement(r.default,{type:"primary",onClick:e.onClose},t("twoFA.disable.confirm"))))};const te=(0,a.memo)(ee);var ne,re,oe=y.Z.span(ne||(ne=v()(["\n  color: var(--676767);\n"]))),le=y.Z.div(re||(re=v()(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  margin-top: 24px;\n  gap: 8px;\n"]))),ae=function(e){var{t}=(0,i.$G)();return a.createElement(s.Z,{destroyOnClose:!0,title:t("twoFA.confirmTurnOff"),visible:e.visible,onCancel:function(){return e.onClose(!1)},footer:null},a.createElement(oe,null,t("twoFA.noSendCode")),a.createElement("br",null),a.createElement("br",null),a.createElement(oe,null,t("twoFA.lessSecure")),a.createElement(le,null,a.createElement(r.default,{type:"primary",onClick:function(){return e.onClose(!0)}},t("base.confirm")),a.createElement(r.default,{type:"danger",onClick:function(){return e.onClose(!1)}},t("base.cancel"))))};const ie=(0,a.memo)(ae);var ce,ue,se=function(){var e=l()((function*(e){var t=JSON.stringify({password:e});try{return(yield(0,C.dJ)("".concat(b.CT,"/user/password/confirm"),{method:"POST",body:t})).body}catch(e){throw e}}));return function(t){return e.apply(this,arguments)}}(),fe=y.Z.div(ce||(ce=v()(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n"]))),de=y.Z.div(ue||(ue=v()(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  gap: 8px;\n"]))),me=function(e){var[t,n]=(0,a.useState)(""),[o,c]=(0,a.useState)(!1),{t:u}=(0,i.$G)(),d=function(){var n=l()((function*(){if(!o)try{c(!0);var n=t.trim();if(!n)return void m.Z.error(u("notifications.error.pleaseEnterPassword"));var{isPasswordValid:r}=yield se(n);if(!r)return void m.Z.error(u("notifications.error.invalidPassword"));c(!1),e.onClose(!0)}finally{c(!1)}}));return function(){return n.apply(this,arguments)}}();return a.createElement(s.Z,{onCancel:function(){return e.onClose(!1)},footer:!1,visible:e.visible,closable:!o,title:u("passwordCheckerModal.title")},a.createElement(fe,null,a.createElement("span",null,u("passwordCheckerModal.overview.title")),a.createElement(de,null,a.createElement(f.Z,{placeholder:u("passwordCheckerModal.overview.placeholder"),value:t,onChange:function(e){return n(e.target.value)},type:"password",autoComplete:"off",maxLength:256,onPressEnter:d,autoFocus:!0}),a.createElement(r.default,{type:"primary",onClick:d,loading:o},u("passwordCheckerModal.overview.confirmSubmitBtnText")))))};const pe=(0,a.memo)(me);var ve=n(80323),ye=n(83274),Ee=function(){var[e,t]=(0,a.useState)(!1),[n,o]=(0,a.useState)(!1),[s,f]=(0,a.useState)(!1),[d,m]=(0,a.useState)(!1),[p,v]=(0,a.useState)(!1),[y,E]=(0,a.useState)(!1),[w,b]=(0,a.useState)(!1),[C,h]=(0,a.useState)("default"),[x,F]=(0,a.useState)(!1),[S,A]=(0,a.useState)(!1),{_id:Z}=(0,a.useContext)(c.x_),{t:k}=(0,i.$G)();(0,a.useEffect)((function(){O()}),[S]);var O=function(){var e=l()((function*(){var{authProvider:e="default",is2faEnabled:t=!1}=yield g();h(e),b(t),F(!0)}));return function(){return e.apply(this,arguments)}}(),T=function(){"default"!==C?t(!0):o(!0)},P=w?k("twoFA.askCode"):k("twoFA.warn")+k("twoFA.deviceLose");return x?a.createElement(ve.U,{tabKey:"two-factor-auth"},a.createElement(ye.V1,null,k(w?"twoFA.isOn":"twoFA.setup")),a.createElement(ye.v5,null,a.createElement(ye._8,null,a.createElement("span",null,P)),a.createElement(ye._8,null,Z?w?a.createElement(a.Fragment,null,a.createElement(r.default,{type:"ghost",onClick:function(){return m(!0)}},k("twoFA.turnOffBtn")),a.createElement(r.default,{type:"primary",onClick:function(){return t(!0)}},k("twoFA.addMoreDevBtn"))):a.createElement(r.default,{type:"primary",onClick:T},k("base.install")):null)),a.createElement(pe,{onClose:function(e){o(!1),e&&t(!0)},visible:n}),Z?a.createElement(L,{visible:e,onClose:function(e){t(!1),f(!!e),A(!S)}}):null,a.createElement(D,{visible:s,onClose:function(){return f(!1)}}),a.createElement(ie,{onClose:function(e){v(e),m(!1)},visible:d}),a.createElement(z,{visible:p,onClose:function(e){v(!1),E(e),A(!S)}}),a.createElement(te,{onClose:function(){return E(!1)},visible:y})):a.createElement(ve.U,{tabKey:"two-factor-auth"},a.createElement(ye.V1,null,k("twoFA.setup")),a.createElement(u.Z,null))};const we=(0,a.memo)(Ee)}}]);
//# sourceMappingURL=197.renderer.js.map